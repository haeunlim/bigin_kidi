<div class="modal_common" id="car_use_info" role="dialog" 
  aria-modal="true" aria-labelledby="차량 조회 결과" aira-describedby="차량 조회 결과안내 팝업"> 
  <div class="modal_body">
    <div class="top">
      <h3>차량기준가액표</h3>
    </div>
    <div class="mid" tabindex="0">
      <div class="flex--c bg_box">
        <i>!</i>
        <p class="text">차량기준가액표는 저작권법상 보호를 받고 있는 편집저작물로써, 보험개발원의 허락없이 무단전재 및 영리 목적 활용시 저작권법(97조 5항)에 의거 형사처벌 될 수 있습니다.</p>
      </div>
      <div class="flex">
        <i class="bk_ico"></i>
        <strong class="mid_ttl mb-0">[모닝] 조회 결과</strong>
      </div>
      <div class="table_wrap">
        <strong class="bold">조회조건</strong>
        <div class="mo_scroll">
          <table>
            <caption class="hidden">차량 조회 조건안내 표</caption>
            <thead>
              <tr>
                <th scope="col">기준년월 </th>
                <th scope="col">제작사</th>
                <th scope="col">차명</th>
                <th scope="col">모델명</th>
                <th scope="col">트림명</th>
                <th scope="col">연식</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><span class="tac">2022-07</span></td>
                <td><span class="tac">기아</span></td>
                <td><span class="tac">모닝</span></td>
                <td><span class="tac">모닝(05Y-08Y)</span></td>
                <td><span class="tac">베이직</span></td>
                <td><span class="tac">2022</span></td>
              </tr>
           </tbody>
          </table>
       </div>
       <p class="table_info_txt">
        <i></i> 해당영역은 좌,우 스크롤이 가능합니다.
      </p>
      </div>
      <div class="table_wrap">
        <div class="flex-b-c">
          <strong class="bold">조회결과</strong>
        </div>
        
        <div class="scroll_table" tabindex="0">
          <table>
            <caption class="hidden">차량 조회 결과 안내 표</caption>
            <thead>
              <tr>
                <th rowspan="2" scope="col">형식 </th>
                <th rowspan="2" colspan="2" scope="col">세분</th>
                <th rowspan="2" scope="col">배기량</th>
                <th rowspan="2" scope="col">정원</th>
                <th rowspan="2" scope="col">전선번호</th>
                <th rowspan="2" scope="col">등급</th>
                <th rowspan="2" scope="col">연료</th>
                <th colspan="20" scope="col" class="border-b">연료</th>
              </tr>
              <tr class="month">
                <th scope="col">2023A </th>
                <th scope="col">2023B</th>
                <th scope="col">2021</th>
                <th scope="col">2020</th>
                <th scope="col">2019</th>
                <th scope="col">2018</th>
                <th scope="col">2017</th>
                <th scope="col">2016</th>
                <th scope="col">2015</th>
                <th scope="col">2014</th>
                <th scope="col">2013</th>
                <th scope="col">2012</th>
                <th scope="col">2011</th>
                <th scope="col">2010</th>
                <th scope="col">2009</th>
                <th scope="col">2008</th>
                <th scope="col">2007</th>
                <th scope="col">2006</th>
                <th scope="col">2005</th>
                <th scope="col">2004</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><span class="tac">3th</span></td>
                <td><span class="tac">벤,오토,에어컨,P/S <br> ABS, AIR-D, IM</span></td>
                <td><span class="tac">@&	</span></td>
                <td><span class="tac">998</span></td>
                <td><span class="tac">2</span></td>
                <td><span class="tac">11U49</span></td>
                <td><span class="tac">15</span></td>
                <td><span class="tac">G</span></td>
                <td><span class="tac">1195</span></td>
                <td><span class="tac">1196</span></td>
                <td><span class="tac">936</span></td>
                <td><span class="tac">803</span></td>
                <td><span class="tac">688</span></td>
                <td><span class="tac">688</span></td>
                <td><span class="tac">688</span></td>
                <td><span class="tac">688</span></td>
                <td><span class="tac">688</span></td>
                <td><span class="tac">688</span></td>
                <td><span class="tac">688</span></td>
                <td><span class="tac">688</span></td>
                <td><span class="tac">688</span></td>
                <td><span class="tac">1195</span></td>
                <td><span class="tac">1196</span></td>
                <td><span class="tac">936</span></td>
                <td><span class="tac">803</span></td>
                <td><span class="tac">688</span></td>
                <td><span class="tac">688</span></td>
                <td><span class="tac">688</span></td>
              </tr>
           </tbody>
          </table>
        </div>
        <p class="table_info_txt">
          <i></i> 해당영역은 좌,우 스크롤이 가능합니다.
        </p>

        <div class="text_group">
          <p class="text flex">
            <i>·</i>기준년월을 기준으로, 차량등록일부터 6개월 이하 차량은 연식A, 6개월 초과 차량은 연식 B를 적용하시면 됩니다. 
          </p>
          <p class="text flex">
            <i>·</i>자세한 설명은 항목 설명에서 보실 수 있습니다.
          </p>
        </div>
        
        <a href="/ins_info/car_price.html#tabpanel5" 
          class="btn-default" target="_blank">항목설명 Click!</a>
      </div>
      <button type="button" class="print_btn">인쇄하기</button>
    </div>

    <button type="button"data-modal-id="car_use_info" title="팝업닫기"  class="modal_close hidden">팝업닫기</button>
  </div>
</div>


<!-- 차량기준가액표 국산--> 
<div class="modal_common" id="car_result_chk" role="dialog"
  aria-modal="true" aria-labelledby="국산 차량 조회 결과" aira-describedby="국산 차량 조회 결과안내 팝업"> 
  <div class="modal_body">
    <div class="top">
      <h3>차량기준가액표</h3>
    </div>
    <div class="mid" tabindex="0">
      <div class="car_result_item">
          <p>1. 자동차의 기준연월을 선택합니다.</p>
          <figure>
            <img src="../assets/img/sub/car_result_01.jpg" alt="">
          </figure>
      </div>
      <div class="car_result_item">
          <p>2. 국가구분의 국가를 선택합니다.</p>
          <figure>
            <img src="../assets/img/sub/car_result_02.jpg" alt="">
          </figure>
      </div>
      <div class="car_result_item">
          <p>3. 제작사 항목에서 자동차의 제조회사를 선택합니다.</p>
          <figure>
            <img src="../assets/img/sub/car_result_03.jpg" alt="">
          </figure>
      </div>
      <div class="car_result_item">
          <p>4. 차명대분류에서 차량의 명칭을 선택합니다.</p>
          <figure>
            <img src="../assets/img/sub/car_result_04.jpg" alt="">
          </figure>
      </div>
      <div class="car_result_item">
          <p>5. 차량연식에서 최초 신규 등록 연도를 선택합니다.</p>
          <figure>
            <img src="../assets/img/sub/car_result_05.jpg" alt="">
          </figure>
      </div>
      <div class="car_result_item">
          <p>6. 차명소분류에서 차량의 상세구분을 선택합니다.</p>
          <figure>
            <img src="../assets/img/sub/car_result_06.jpg" alt="">
          </figure>
      </div>
      <div class="car_result_item">
          <p>7. 차량의 세부분류를 선택합니다.</p>
          <figure>
            <img src="../assets/img/sub/car_result_07.jpg" alt="">
          </figure>
      </div>
      <div class="car_result_item">
          <p>8. 검색을 선택합니다.</p>
          <figure>
            <img src="../assets/img/sub/car_result_08.jpg" alt="">
          </figure>
      </div>
    </div>
    <button type="button"data-modal-id="car_result_chk" title="팝업닫기"  class="modal_close hidden">팝업닫기</button>
  </div>
</div>


<!-- 차량기준가액표 외산 --> 
<div class="modal_common" id="car_result_e_chk" role="dialog"
  aria-modal="true" aria-labelledby="외산 차량 조회 결과" aira-describedby="외산 차량 조회 결과안내 팝업"> 
  <div class="modal_body">
    <div class="top">
      <h3>차량기준가액표</h3>
    </div>
    <div class="mid" tabindex="0" >
      <div class="car_result_item">
          <p>1. 자동차의 기준연월을 선택합니다.</p>
          <figure>
            <img src="../assets/img/sub/car_result_e_01.jpg" alt="">
          </figure>
      </div>
      <div class="car_result_item">
          <p>2. 제작사 항목에서 자동차의 제조회사를 선택합니다.</p>
          <figure>
            <img src="../assets/img/sub/car_result_e_02.jpg" alt="">
          </figure>
      </div>
      <div class="car_result_item">
          <p>3. 차종 항목에서 용도(자가 용/영업용) 및 종류(승용차/버스/화물차)에 따라 해당사항을 선택합니다. </p>
          <figure>
            <img src="../assets/img/sub/car_result_e_03.jpg" alt="">
          </figure>
      </div>
      <div class="car_result_item">
          <p>4. 차명대분류에서 차량의 명칭을 선택합니다.</p>
          <figure>
            <img src="../assets/img/sub/car_result_e_04.jpg" alt="">
          </figure>
      </div>
      <div class="car_result_item">
          <p>5. 차량연식에서 최초 신규 등록 연도를 선택합니다.</p>
          <figure>
            <img src="../assets/img/sub/car_result_e_05.jpg" alt="">
          </figure>
      </div>
      <div class="car_result_item">
          <p>6. 차명소분류에서 차량의 상세구분을 선택합니다.</p>
          <figure>
            <img src="../assets/img/sub/car_result_e_06.jpg" alt="">
          </figure>
      </div>
      <div class="car_result_item">
          <p>7. 차량의 세부분류를 선택합니다.</p>
          <figure>
            <img src="../assets/img/sub/car_result_e_07.jpg" alt="">
          </figure>
      </div>
      <div class="car_result_item">
          <p>8. 검색을 선택합니다.</p>
          <figure>
            <img src="../assets/img/sub/car_result_e_08.jpg" alt="">
          </figure>
      </div>
    </div>
    <button type="button"data-modal-id="car_result_e_chk" title="팝업닫기"  class="modal_close hidden">팝업닫기</button>
  </div>
</div>
<!-- 231218 내용 추가수정 end -->


<!-- 수정된곳 여기부터  -->
<div class="modal_common" id="prediction_pop" role="dialog" 
    aria-modal="true" aria-labelledby="질병 예측정보 문답이 완료" aira-describedby="질병 예측정보 문답이 완료">
    <div class="modal_body">
      <div class="top">
        <h3>질병 예측정보 문답이 완료 되었습니다.
        </h3>
        <p class="text">  5년 내 주요 질환 발병률 예측 결과를 확인하세요</p>
      </div>
      <div class="mid" tabindex="0">
        <button type="button" class="btn print_btn" onclick="location.href='./prediction_service_result.html'" tabindex="2">결과보기</button>

      </div>

      <button type="button" aria-label="팝업닫기버튼" data-modal-id="prediction_pop" title="팝업닫기"  class="modal_close hidden" tabindex="3">팝업닫기</button>
      
    </div>
  </div>

<!-- 수정된곳 여기까지  -->
<script>

  
// 레이어 팝업 열기 버튼 클릭 시 팝업 보이기
$(".modal_open").on("click", function() {
    var op = $(this);
    const modals = $('.modal_common');
    var lp = $("#" + $(this).attr("aria-controls"));
    var lpObj = lp.find(".modal_body");
		    var lpObjClose = lp.find(".modal_close");
		    var lpObjTabbable ;
		    var lpObjTabbableFirst;
		    var lpObjTabbableLast;
		    // var lpOuterObjHidden = $(".my_car_box form, .form-item select, .form-item input, #skip, #header, #footer"); // 레이어 바깥 영역의 요소
		    var tabDisable;
		    var nowScrollPos = $(window).scrollTop();

		    $("body").css("top", - nowScrollPos).addClass("fixed").on("scroll touchmove mousewheel", function(event){
		        event.preventDefault(); // iOS 레이어 열린 상태에서 body 스크롤되는 문제 방지
		    });

		  
		    // lpOuterObjHidden.attr("aria-hidden", true); // 레이어 바깥 영역을 스크린리더가 읽지 않게
		    
		    
		    $('#modal_wrap').addClass('open');  
		  
		    $(lp).attr("aria-hidden", false).show();
				lpObj.attr("tabindex", "0");
		  
		    setTimeout(() => {
          //포커스 잡기 
		    	    lpObjTabbable = lpObj.find("*[tabindex]:not([tabindex='-1']), button, input:not([type='hidden']), select, iframe, textarea, [href]");
				     lpObjTabbableFirst = lpObjTabbable && lpObjTabbable.first();
				     lpObjTabbableLast = lpObjTabbable && lpObjTabbable.last(); 
  		    	lpObjTabbableFirst.focus();
		    	//팝업 안에서 포커스 돌게
		    	 lpObjTabbable.length ? lpObjTabbableFirst.focus().on("keydown", function(event) { 
				        // 레이어 열리자마자 초점 받을 수 있는 첫번째 요소로 초점 이동
				        if (event.shiftKey && (event.keyCode || event.which) === 9) {
				            // Shift + Tab키 : 초점 받을 수 있는 첫번째 요소에서 마지막 요소로 초점 이동
				            event.preventDefault();
				            lpObjTabbableLast.focus();
				        }
				    }) : lpObj.attr("tabindex", "0").focus().on("keydown", function(event){
				        tabDisable = true;
				        if ((event.keyCode || event.which) === 9) event.preventDefault();
				        // Tab키 / Shift + Tab키 : 초점 받을 수 있는 요소가 없을 경우 레이어 밖으로 초점 이동 안되게
				    });
				    lpObjTabbableLast.on("keydown", function(event) {
				        if (!event.shiftKey && (event.keyCode || event.which) === 9) {
				            // Tab키 : 초점 받을 수 있는 마지막 요소에서 첫번째 요소으로 초점 이동
				            event.preventDefault();
				            lpObjTabbableFirst.focus();
				        }
				    });
		    }, 50);
        setTimeout(() => {
          
        }, 80);

		   
		    
		    function lpClose() { // 레이어 닫기 함수
		        $("body").removeClass("fixed").css("top", "").off("scroll touchmove mousewheel");
		        $(window).scrollTop(nowScrollPos); // 레이어 닫은 후 화면 최상단으로 이동 방지
		      //  if (tabDisable === true) lpObj.attr("tabindex", "-1");
		        $('#modal_wrap').removeClass('open');
		        
		        // lpOuterObjHidden.removeAttr("aria-hidden");
		        
		        $(allModals).attr("aria-hidden", true).hide();
		        
		        if(modalId == "car_result_chk"){
		        	document.getElementById("car_result_chk_button").focus();
		        } else if(modalId == "car_use_info"){
		        	document.getElementById("btn_go_search").focus();
		        }
		        //   op.focus();  디스값 넣고 주석 풀어주세용
		        $(document).off("keydown.lp_keydown");
		        
		        
		        lpObj.attr("tabindex", "-1");
		    }

		    
		    
		    
		    lpObjClose.on("click", lpClose); // 닫기 버튼 클릭 시 레이어 닫기

		    lp.on("click", function(event){
		        if (event.target === event.currentTarget) {
		            // 반투명 배경 클릭 시 레이어 닫기
		            lpClose();
		        }
		    });
		    
		    $(document).on("keydown.lp_keydown", function(event) {
		        // Esc키 : 레이어 닫기
		        var keyType = event.keyCode || event.which;
		      
		        if (keyType === 27 &&  $('#modal_wrap').hasClass("open")) {
		          lpClose();
		        }
		    });
   	
});


</script>